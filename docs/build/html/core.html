<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>core package &#8212; prueba 0.0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=686e5160" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=27fed22d" />
    <script src="_static/documentation_options.js?v=d45e8c67"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="custom_distance package" href="custom_distance.html" />
    <link rel="prev" title="builder package" href="builder.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="core-package">
<h1>core package<a class="headerlink" href="#core-package" title="Link to this heading">¶</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading">¶</a></h2>
</section>
<section id="module-core.cbr_fox">
<span id="core-cbr-fox-module"></span><h2>core.cbr_fox module<a class="headerlink" href="#module-core.cbr_fox" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="core.cbr_fox.cbr_fox">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">core.cbr_fox.</span></span><span class="sig-name descname"><span class="pre">cbr_fox</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'dtw'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smoothness_factor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/core/cbr_fox.html#cbr_fox"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#core.cbr_fox.cbr_fox" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Core class to perform calculations and analysis at technique-level depth.</p>
<p>This class is used to preprocess the provided input data for performing correlation and find the best cases. Its}
functionality follows classic AI library guidelines and standards such as scikit-learn and keras.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>metric</strong> (<em>str</em><em> or </em><em>callable</em><em>, </em><em>optional</em>) – The metric to use for correlation (default is “dtw”).</p></li>
<li><p><strong>smoothness_factor</strong> (<em>float</em><em>, </em><em>optional</em>) – The smoothness factor for preprocessing (default is 0.2).</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em><em>, </em><em>optional</em>) – Additional keyword arguments for customization.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="core.cbr_fox.cbr_fox.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smoothness_factor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/core/cbr_fox.html#cbr_fox.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#core.cbr_fox.cbr_fox.__init__" title="Link to this definition">¶</a></dt>
<dd><p>Initializes the cbr_fox class with specified parameters.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="core.cbr_fox.cbr_fox.calculate_analysis">
<span class="sig-name descname"><span class="pre">calculate_analysis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indexes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_data_dictionary</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/core/cbr_fox.html#cbr_fox.calculate_analysis"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#core.cbr_fox.cbr_fox.calculate_analysis" title="Link to this definition">¶</a></dt>
<dd><p>Compute analysis results and store them in a record array for reporting and visualization.</p>
<p>This method processes data for the specified indices, extracting relevant information such as
training windows, target windows, correlation values, and Mean Absolute Error (MAE). The results
are stored in a structured record array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>indexes</strong> (<em>list</em><em> of </em><em>int</em>) – A list of indices corresponding to valleys and peaks in the non-smoothed correlation array.</p></li>
<li><p><strong>input_data_dictionary</strong> (<em>dict</em>) – A dictionary containing preprocessed input data, including training and target windows.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A structured record array containing the following fields:
- Index: The index of the data point.
- Training window: The array representing the training window.
- Target window: The array representing the target window.
- Correlation value: The correlation value from the non-smoothed correlation array.
- MAE: The Mean Absolute Error (MAE) value comparing the target window and the prediction.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.recarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="core.cbr_fox.cbr_fox.calculate_analysis_combined">
<span class="sig-name descname"><span class="pre">calculate_analysis_combined</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_data_dictionary</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/core/cbr_fox.html#cbr_fox.calculate_analysis_combined"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#core.cbr_fox.cbr_fox.calculate_analysis_combined" title="Link to this definition">¶</a></dt>
<dd><p>Perform combined best-case analysis based on the provided mode.</p>
<p>This method iterates over the best and worst cases, calculates the mean absolute error (MAE),
average values for each window, and correlation mean based on the selected mode, and stores
the results for further analysis and report generation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_data_dictionary</strong> (<em>dict</em>) – A dictionary containing processed input data, including training windows,
target training windows, and prediction arrays.</p></li>
<li><p><strong>mode</strong> (<em>str</em>) – The mode to apply for calculating the average. Options are:
- “weighted”: Uses a weighted average based on the correlation per window.
- “simple”: Calculates a simple mean across the selected cases.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A structured array containing the calculated data for each window. Each entry includes:
- Index flag (to distinguish best and worst cases).
- Average values of the training windows.
- Average values of the target training windows.
- Correlation mean for the selected cases.
- Mean absolute error (MAE) between the prediction and target averages.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="core.cbr_fox.cbr_fox.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">training_windows</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_training_windows</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">forecasted_window</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/core/cbr_fox.html#cbr_fox.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#core.cbr_fox.cbr_fox.fit" title="Link to this definition">¶</a></dt>
<dd><p>Perform correlation analysis and identify cases based on the provided data.</p>
<p>This method analyzes the provided training windows, calculates the correlation using
the selected metric, and performs CBR analysis to identify cases based on the data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>training_windows</strong> (<em>numpy.ndarray</em>) – A 3D array of training windows with shape (n_windows, window_len, components_len),
where <cite>n_windows</cite> is the number of windows, <cite>window_len</cite> is the length of each window,
and <cite>components_len</cite> is the number of features per timestep.</p></li>
<li><p><strong>target_training_windows</strong> (<em>list</em>) – A list of target windows corresponding to each training window.</p></li>
<li><p><strong>forecasted_window</strong> (<em>list</em>) – A window used for forecasting and making predictions.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>This method performs calculations for correlation analysis and case-based reasoning.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="core.cbr_fox.cbr_fox.get_analysis_report">
<span class="sig-name descname"><span class="pre">get_analysis_report</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/core/cbr_fox.html#cbr_fox.get_analysis_report"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#core.cbr_fox.cbr_fox.get_analysis_report" title="Link to this definition">¶</a></dt>
<dd><p>Access the analysis report containing the best cases based on the analysis.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A DataFrame containing the best cases and their respective information based on the analysis.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="core.cbr_fox.cbr_fox.get_analysis_report_combined">
<span class="sig-name descname"><span class="pre">get_analysis_report_combined</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/core/cbr_fox.html#cbr_fox.get_analysis_report_combined"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#core.cbr_fox.cbr_fox.get_analysis_report_combined" title="Link to this definition">¶</a></dt>
<dd><p>Access the combined analysis report containing the best cases based on the combined analysis.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A DataFrame containing the combined best cases and their respective information based on the analysis.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="core.cbr_fox.cbr_fox.predict">
<span class="sig-name descname"><span class="pre">predict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prediction</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_cases</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'simple'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/core/cbr_fox.html#cbr_fox.predict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#core.cbr_fox.cbr_fox.predict" title="Link to this definition">¶</a></dt>
<dd><p>Perform analysis to identify the best cases based on the provided prediction.</p>
<p>This method computes the statistics to identify the best cases compared to the provided
prediction and returns results that can be accessed through corresponding methods.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prediction</strong> (<em>numpy.ndarray</em>) – The prediction generated by the AI model.</p></li>
<li><p><strong>num_cases</strong> (<em>int</em>) – The maximum number of cases to identify.</p></li>
<li><p><strong>mode</strong> (<em>str</em><em>, </em><em>optional</em>) – A string to specify the mode for the combined case option, which can be either ‘simple’ or ‘combined’.
The default is “simple”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>This method performs the analysis, and results can be accessed via the corresponding methods.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="core.cbr_fox.cbr_fox.weighted_average">
<span class="sig-name descname"><span class="pre">weighted_average</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">weights</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/core/cbr_fox.html#cbr_fox.weighted_average"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#core.cbr_fox.cbr_fox.weighted_average" title="Link to this definition">¶</a></dt>
<dd><p>Calculate the weighted average of a set of values based on the provided weights.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>values</strong> (<em>numpy.ndarray</em>) – A 3D array of values with shape (n_windows, window_len, components_len),
where <cite>n_windows</cite> is the number of windows, <cite>window_len</cite> is the length of each window,
and <cite>components_len</cite> is the number of features per timestep.</p></li>
<li><p><strong>weights</strong> (<em>numpy.ndarray</em><em> or </em><em>list</em>) – A 1D array or list of weights corresponding to the values. The length of <cite>weights</cite> must
match the first dimension of <cite>values</cite> (i.e., <cite>n_windows</cite>).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A 2D array of shape (window_len, components_len) representing the weighted average
of the input values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-core.example">
<span id="core-example-module"></span><h2>core.example module<a class="headerlink" href="#module-core.example" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="core.example.prueba">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">core.example.</span></span><span class="sig-name descname"><span class="pre">prueba</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'dtw'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smoothness_factor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/core/example.html#prueba"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#core.example.prueba" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Core class to perform calculations and analysis at technique-level depth.</p>
<p>This class is used to preprocess the provided input data for performing correlation and find the best cases. Its}
functionality follows classic AI library guidelines and standards such as scikit-learn and keras.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>metric</strong> (<em>str</em><em> or </em><em>callable</em><em>, </em><em>optional</em>) – The metric to use for correlation (default is “dtw”).</p></li>
<li><p><strong>smoothness_factor</strong> (<em>float</em><em>, </em><em>optional</em>) – The smoothness factor for preprocessing (default is 0.2).</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em><em>, </em><em>optional</em>) – Additional keyword arguments for customization.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="core.example.prueba.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smoothness_factor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/core/example.html#prueba.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#core.example.prueba.__init__" title="Link to this definition">¶</a></dt>
<dd><p>Initializes the cbr_fox class with specified parameters.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-core">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-core" title="Link to this heading">¶</a></h2>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">prueba</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">cbr_fox</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="adapters.html">adapters package</a></li>
<li class="toctree-l2"><a class="reference internal" href="builder.html">builder package</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">core package</a></li>
<li class="toctree-l2"><a class="reference internal" href="custom_distance.html">custom_distance package</a></li>
<li class="toctree-l2"><a class="reference internal" href="utils.html">utils package</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="modules.html">cbr_fox</a><ul>
      <li>Previous: <a href="builder.html" title="previous chapter">builder package</a></li>
      <li>Next: <a href="custom_distance.html" title="next chapter">custom_distance package</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2025, prueba.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.1.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="_sources/core.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>